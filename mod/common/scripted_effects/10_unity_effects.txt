add_clan_unity_interaction_effect = {
	if = {
		limit = {
			$CHARACTER$ = { government_has_flag = government_is_clan }
			exists = $CHARACTER$.house
		}

		# Save scopes for localisation
		$CHARACTER$ = { save_scope_as = unity_character }
		$TARGET$ = { save_scope_as = unity_target }

		$CHARACTER$.house = {
			save_scope_as = character_house
			
			if = {
				limit = {
					$TARGET$ = { government_has_flag = government_is_clan }
					exists = $TARGET$.house
					$CHARACTER$.house = $TARGET$.house
				}

				add_unity_value = {
					value = {
						value = $VALUE$
						if = { # House heads have a larger impact on unity
							limit = {
								OR = {
									house_head = $CHARACTER$
									house_head = $TARGET$ # Check if EITHER character is the house head
								}
							}
							multiply = unity_house_head_multiplier_value
						}
					}
					character = $CHARACTER$
					desc = $DESC$
				}				
			}
			else_if = {
				limit = { $REVERSE_NON_HOUSE_TARGET$ = yes }

				add_unity_value = {
					value = {
						value = 0
						subtract = $VALUE$
						if = { # House heads have a larger impact on unity
							limit = { house_head = $CHARACTER$ }
							multiply = unity_house_head_multiplier_value
						}
					}
					character = $CHARACTER$
					desc = $DESC$
				}
			}
		}		
	}
}